
import {Options} from "../utils/DataSchema";
import request from "../utils/requests";

export default class Wrapper {
  options: Options;
  constructor(options: Options) {
    this.options = options;
    this.options.headers = {
      Authorisation: ""
    }
  }

  formatUrl(nodeId: string, path: string) {
    return `https://api.${nodeId}.${this.options.enviroment}.ekoopenbuild.com/${path}`
  }


  async post(nodeId: string, path:string, payload?: object){
      const requestOptions: Options = {
        ...this.options,
         data: payload
      };
      const url = this.formatUrl(nodeId,path);
      return request(`POST`, url, requestOptions);
    }

    async get(nodeId: string, path:string, payload?: object){
      const requestOptions: Options = {
        ...this.options,
         data: payload
      };
      const url = this.formatUrl(nodeId,path);
      return request(`GET`, url, requestOptions);
    }

 
}
